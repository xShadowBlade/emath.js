"use strict";(()=>{var vt=Object.create;var nt=Object.defineProperty;var xt=Object.getOwnPropertyDescriptor;var At=Object.getOwnPropertyNames;var St=Object.getPrototypeOf,bt=Object.prototype.hasOwnProperty;var F=(g=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(g,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):g)(function(g){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+g+'" is not supported')});var Mt=(g,t)=>()=>(t||g((t={exports:{}}).exports,t),t.exports);var Ct=(g,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let x of At(t))!bt.call(g,x)&&x!==e&&nt(g,x,{get:()=>t[x],enumerable:!(r=xt(t,x))||r.enumerable});return g};var wt=(g,t,e)=>(e=g!=null?vt(St(g)):{},Ct(t||!g||!g.__esModule?nt(e,"default",{value:g,enumerable:!0}):e,g));var rt=Mt((qt,q)=>{var Z=function(){var g=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function x(i,s){if(!r[i]){r[i]={};for(var a=0;a<i.length;a++)r[i][i.charAt(a)]=a}return r[i][s]}var n={compressToBase64:function(i){if(i==null)return"";var s=n._compress(i,6,function(a){return t.charAt(a)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(i){return i==null?"":i==""?null:n._decompress(i.length,32,function(s){return x(t,i.charAt(s))})},compressToUTF16:function(i){return i==null?"":n._compress(i,15,function(s){return g(s+32)})+" "},decompressFromUTF16:function(i){return i==null?"":i==""?null:n._decompress(i.length,16384,function(s){return i.charCodeAt(s)-32})},compressToUint8Array:function(i){for(var s=n.compress(i),a=new Uint8Array(s.length*2),o=0,p=s.length;o<p;o++){var v=s.charCodeAt(o);a[o*2]=v>>>8,a[o*2+1]=v%256}return a},decompressFromUint8Array:function(i){if(i==null)return n.decompress(i);for(var s=new Array(i.length/2),a=0,o=s.length;a<o;a++)s[a]=i[a*2]*256+i[a*2+1];var p=[];return s.forEach(function(v){p.push(g(v))}),n.decompress(p.join(""))},compressToEncodedURIComponent:function(i){return i==null?"":n._compress(i,6,function(s){return e.charAt(s)})},decompressFromEncodedURIComponent:function(i){return i==null?"":i==""?null:(i=i.replace(/ /g,"+"),n._decompress(i.length,32,function(s){return x(e,i.charAt(s))}))},compress:function(i){return n._compress(i,16,function(s){return g(s)})},_compress:function(i,s,a){if(i==null)return"";var o,p,v={},m={},b="",y="",d="",c=2,u=3,f=2,A=[],l=0,h=0,M;for(M=0;M<i.length;M+=1)if(b=i.charAt(M),Object.prototype.hasOwnProperty.call(v,b)||(v[b]=u++,m[b]=!0),y=d+b,Object.prototype.hasOwnProperty.call(v,y))d=y;else{if(Object.prototype.hasOwnProperty.call(m,d)){if(d.charCodeAt(0)<256){for(o=0;o<f;o++)l=l<<1,h==s-1?(h=0,A.push(a(l)),l=0):h++;for(p=d.charCodeAt(0),o=0;o<8;o++)l=l<<1|p&1,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=p>>1}else{for(p=1,o=0;o<f;o++)l=l<<1|p,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=0;for(p=d.charCodeAt(0),o=0;o<16;o++)l=l<<1|p&1,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=p>>1}c--,c==0&&(c=Math.pow(2,f),f++),delete m[d]}else for(p=v[d],o=0;o<f;o++)l=l<<1|p&1,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=p>>1;c--,c==0&&(c=Math.pow(2,f),f++),v[y]=u++,d=String(b)}if(d!==""){if(Object.prototype.hasOwnProperty.call(m,d)){if(d.charCodeAt(0)<256){for(o=0;o<f;o++)l=l<<1,h==s-1?(h=0,A.push(a(l)),l=0):h++;for(p=d.charCodeAt(0),o=0;o<8;o++)l=l<<1|p&1,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=p>>1}else{for(p=1,o=0;o<f;o++)l=l<<1|p,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=0;for(p=d.charCodeAt(0),o=0;o<16;o++)l=l<<1|p&1,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=p>>1}c--,c==0&&(c=Math.pow(2,f),f++),delete m[d]}else for(p=v[d],o=0;o<f;o++)l=l<<1|p&1,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=p>>1;c--,c==0&&(c=Math.pow(2,f),f++)}for(p=2,o=0;o<f;o++)l=l<<1|p&1,h==s-1?(h=0,A.push(a(l)),l=0):h++,p=p>>1;for(;;)if(l=l<<1,h==s-1){A.push(a(l));break}else h++;return A.join("")},decompress:function(i){return i==null?"":i==""?null:n._decompress(i.length,32768,function(s){return i.charCodeAt(s)})},_decompress:function(i,s,a){var o=[],p,v=4,m=4,b=3,y="",d=[],c,u,f,A,l,h,M,S={val:a(0),position:s,index:1};for(c=0;c<3;c+=1)o[c]=c;for(f=0,l=Math.pow(2,2),h=1;h!=l;)A=S.val&S.position,S.position>>=1,S.position==0&&(S.position=s,S.val=a(S.index++)),f|=(A>0?1:0)*h,h<<=1;switch(p=f){case 0:for(f=0,l=Math.pow(2,8),h=1;h!=l;)A=S.val&S.position,S.position>>=1,S.position==0&&(S.position=s,S.val=a(S.index++)),f|=(A>0?1:0)*h,h<<=1;M=g(f);break;case 1:for(f=0,l=Math.pow(2,16),h=1;h!=l;)A=S.val&S.position,S.position>>=1,S.position==0&&(S.position=s,S.val=a(S.index++)),f|=(A>0?1:0)*h,h<<=1;M=g(f);break;case 2:return""}for(o[3]=M,u=M,d.push(M);;){if(S.index>i)return"";for(f=0,l=Math.pow(2,b),h=1;h!=l;)A=S.val&S.position,S.position>>=1,S.position==0&&(S.position=s,S.val=a(S.index++)),f|=(A>0?1:0)*h,h<<=1;switch(M=f){case 0:for(f=0,l=Math.pow(2,8),h=1;h!=l;)A=S.val&S.position,S.position>>=1,S.position==0&&(S.position=s,S.val=a(S.index++)),f|=(A>0?1:0)*h,h<<=1;o[m++]=g(f),M=m-1,v--;break;case 1:for(f=0,l=Math.pow(2,16),h=1;h!=l;)A=S.val&S.position,S.position>>=1,S.position==0&&(S.position=s,S.val=a(S.index++)),f|=(A>0?1:0)*h,h<<=1;o[m++]=g(f),M=m-1,v--;break;case 2:return d.join("")}if(v==0&&(v=Math.pow(2,b),b++),o[M])y=o[M];else if(M===m)y=u+u.charAt(0);else return null;d.push(y),o[m++]=u+y.charAt(0),v--,u=y,v==0&&(v=Math.pow(2,b),b++)}}};return n}();typeof define=="function"&&define.amd?define(function(){return Z}):typeof q<"u"&&q!=null?q.exports=Z:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Z})});function it(){if(typeof process!="object"&&typeof window<"u"&&typeof process<"u"){console.error(`eMath.js/pixiGame is not supported in browser environments. 
 This requirement might be removed in the future.`);return}}var j=F("../../src/classes/currency"),Y=F("../../src/classes/attribute");var I=class{constructor(t){this.configOptionTemplate=t}parse(t){if(typeof t>"u")return this.configOptionTemplate;let e=(r,x)=>{for(let n in x)typeof r[n]>"u"?r[n]=x[n]:typeof r[n]=="object"&&typeof x[n]=="object"&&(r[n]=e(r[n],x[n]));return r};return e(t,this.configOptionTemplate)}get options(){return this.configOptionTemplate}};var Ot={autoAddInterval:!0,fps:30,pixiApp:void 0},Bt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890 ".split("").concat(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]),E=class g{constructor(t){this.addKeys=this.addKey;if(this.keysPressed=[],this.binds=[],this.tickers=[],this.config=g.configManager.parse(t),this.config.autoAddInterval)if(this.config.pixiApp)this.config.pixiApp.ticker.add(e=>{for(let r of this.tickers)r(e)});else{let e=this.config.fps?this.config.fps:30;this.tickerInterval=setInterval(()=>{for(let r of this.tickers)r(1e3/e)},1e3/e)}typeof document>"u"||(document.addEventListener("keydown",e=>this.logKey(e,!0)),document.addEventListener("keyup",e=>this.logKey(e,!1)))}static{this.configManager=new I(Ot)}changeFps(t){this.config.fps=t,this.tickerInterval?(clearInterval(this.tickerInterval),this.tickerInterval=setInterval(()=>{for(let e of this.tickers)e(1e3/t)},1e3/t)):this.config.pixiApp&&(this.config.pixiApp.ticker.maxFPS=t)}logKey(t,e){let r=t.key;e&&!this.keysPressed.includes(r)?this.keysPressed.push(r):!e&&this.keysPressed.includes(r)&&this.keysPressed.splice(this.keysPressed.indexOf(r),1)}isPressing(t){for(let e=0;e<this.binds.length;e++){let r=this.binds[e];if(r.name===t)return this.keysPressed.includes(r.key)}return!1}addKey(t,e,r){let x=(n,i,s)=>{for(let a=0;a<this.binds.length;a++){let o=this.binds[a];if(o.name===n){o.key=i;return}}this.binds.push({name:n,key:i,fn:s}),typeof s=="function"&&this.tickers.push(a=>{this.isPressing(n)&&s(a)})};if(typeof t=="string")x(t,e,r);else{t=Array.isArray(t)?t:[t];for(let n of t)x(n.name,n.key,n.fn)}}};var Lt={autoAddInterval:!0,fps:30,pixiApp:void 0},R=class g{constructor(t){this.addEvent=this.setEvent;if(this.config=g.configManager.parse(t),this.events={},this.config.autoAddInterval)if(this.config.pixiApp)this.config.pixiApp.ticker.add(()=>{this.tickerFunction()});else{let e=this.config.fps?this.config.fps:30;this.tickerInterval=setInterval(()=>{this.tickerFunction()},1e3/e)}}static{this.configManager=new I(Lt)}tickerFunction(){let t=Date.now();for(let e of Object.values(this.events))if(e.type==="interval"){if(t-e.intervalLast>=e.delay){let r=t-e.intervalLast;e.callbackFn(r),e.intervalLast=t}}else if(e.type==="timeout"){let r=t-e.timeCreated;t-e.timeCreated>=e.delay&&(e.callbackFn(r),delete this.events[e.name])}}changeFps(t){this.config.fps=t,this.tickerInterval?(clearInterval(this.tickerInterval),this.tickerInterval=setInterval(()=>{this.tickerFunction()},1e3/t)):this.config.pixiApp&&(this.config.pixiApp.ticker.maxFPS=t)}setEvent(t,e,r,x){this.events[t]=(()=>{switch(e){case"interval":return{name:t,type:e,delay:typeof r=="number"?r:r.toNumber(),callbackFn:x,timeCreated:Date.now(),intervalLast:Date.now()};case"timeout":default:return{name:t,type:e,delay:typeof r=="number"?r:r.toNumber(),callbackFn:x,timeCreated:Date.now()}}})()}removeEvent(t){delete this.events[t]}};var B=wt(rt());var C;(function(g){g[g.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",g[g.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",g[g.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(C||(C={}));var ot=function(){function g(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return g.prototype.addTypeMetadata=function(t){this._typeMetadatas.has(t.target)||this._typeMetadatas.set(t.target,new Map),this._typeMetadatas.get(t.target).set(t.propertyName,t)},g.prototype.addTransformMetadata=function(t){this._transformMetadatas.has(t.target)||this._transformMetadatas.set(t.target,new Map),this._transformMetadatas.get(t.target).has(t.propertyName)||this._transformMetadatas.get(t.target).set(t.propertyName,[]),this._transformMetadatas.get(t.target).get(t.propertyName).push(t)},g.prototype.addExposeMetadata=function(t){this._exposeMetadatas.has(t.target)||this._exposeMetadatas.set(t.target,new Map),this._exposeMetadatas.get(t.target).set(t.propertyName,t)},g.prototype.addExcludeMetadata=function(t){this._excludeMetadatas.has(t.target)||this._excludeMetadatas.set(t.target,new Map),this._excludeMetadatas.get(t.target).set(t.propertyName,t)},g.prototype.findTransformMetadatas=function(t,e,r){return this.findMetadatas(this._transformMetadatas,t,e).filter(function(x){return!x.options||x.options.toClassOnly===!0&&x.options.toPlainOnly===!0?!0:x.options.toClassOnly===!0?r===C.CLASS_TO_CLASS||r===C.PLAIN_TO_CLASS:x.options.toPlainOnly===!0?r===C.CLASS_TO_PLAIN:!0})},g.prototype.findExcludeMetadata=function(t,e){return this.findMetadata(this._excludeMetadatas,t,e)},g.prototype.findExposeMetadata=function(t,e){return this.findMetadata(this._exposeMetadatas,t,e)},g.prototype.findExposeMetadataByCustomName=function(t,e){return this.getExposedMetadatas(t).find(function(r){return r.options&&r.options.name===e})},g.prototype.findTypeMetadata=function(t,e){return this.findMetadata(this._typeMetadatas,t,e)},g.prototype.getStrategy=function(t){var e=this._excludeMetadatas.get(t),r=e&&e.get(void 0),x=this._exposeMetadatas.get(t),n=x&&x.get(void 0);return r&&n||!r&&!n?"none":r?"excludeAll":"exposeAll"},g.prototype.getExposedMetadatas=function(t){return this.getMetadata(this._exposeMetadatas,t)},g.prototype.getExcludedMetadatas=function(t){return this.getMetadata(this._excludeMetadatas,t)},g.prototype.getExposedProperties=function(t,e){return this.getExposedMetadatas(t).filter(function(r){return!r.options||r.options.toClassOnly===!0&&r.options.toPlainOnly===!0?!0:r.options.toClassOnly===!0?e===C.CLASS_TO_CLASS||e===C.PLAIN_TO_CLASS:r.options.toPlainOnly===!0?e===C.CLASS_TO_PLAIN:!0}).map(function(r){return r.propertyName})},g.prototype.getExcludedProperties=function(t,e){return this.getExcludedMetadatas(t).filter(function(r){return!r.options||r.options.toClassOnly===!0&&r.options.toPlainOnly===!0?!0:r.options.toClassOnly===!0?e===C.CLASS_TO_CLASS||e===C.PLAIN_TO_CLASS:r.options.toPlainOnly===!0?e===C.CLASS_TO_PLAIN:!0}).map(function(r){return r.propertyName})},g.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},g.prototype.getMetadata=function(t,e){var r=t.get(e),x;r&&(x=Array.from(r.values()).filter(function(v){return v.propertyName!==void 0}));for(var n=[],i=0,s=this.getAncestors(e);i<s.length;i++){var a=s[i],o=t.get(a);if(o){var p=Array.from(o.values()).filter(function(v){return v.propertyName!==void 0});n.push.apply(n,p)}}return n.concat(x||[])},g.prototype.findMetadata=function(t,e,r){var x=t.get(e);if(x){var n=x.get(r);if(n)return n}for(var i=0,s=this.getAncestors(e);i<s.length;i++){var a=s[i],o=t.get(a);if(o){var p=o.get(r);if(p)return p}}},g.prototype.findMetadatas=function(t,e,r){var x=t.get(e),n;x&&(n=x.get(r));for(var i=[],s=0,a=this.getAncestors(e);s<a.length;s++){var o=a[s],p=t.get(o);p&&p.has(r)&&i.push.apply(i,p.get(r))}return i.slice().reverse().concat((n||[]).slice().reverse())},g.prototype.getAncestors=function(t){if(!t)return[];if(!this._ancestorsMap.has(t)){for(var e=[],r=Object.getPrototypeOf(t.prototype.constructor);typeof r.prototype<"u";r=Object.getPrototypeOf(r.prototype.constructor))e.push(r);this._ancestorsMap.set(t,e)}return this._ancestorsMap.get(t)},g}();var L=new ot;function st(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function at(g){return g!==null&&typeof g=="object"&&typeof g.then=="function"}var ct=function(g,t,e){if(e||arguments.length===2)for(var r=0,x=t.length,n;r<x;r++)(n||!(r in t))&&(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return g.concat(n||Array.prototype.slice.call(t))};function _t(g){var t=new g;return!(t instanceof Set)&&!("push"in t)?[]:t}var D=function(){function g(t,e){this.transformationType=t,this.options=e,this.recursionStack=new Set}return g.prototype.transform=function(t,e,r,x,n,i){var s=this;if(i===void 0&&(i=0),Array.isArray(e)||e instanceof Set){var a=x&&this.transformationType===C.PLAIN_TO_CLASS?_t(x):[];return e.forEach(function(c,u){var f=t?t[u]:void 0;if(!s.options.enableCircularCheck||!s.isCircular(c)){var A=void 0;if(typeof r!="function"&&r&&r.options&&r.options.discriminator&&r.options.discriminator.property&&r.options.discriminator.subTypes){if(s.transformationType===C.PLAIN_TO_CLASS){A=r.options.discriminator.subTypes.find(function(S){return S.name===c[r.options.discriminator.property]});var l={newObject:a,object:c,property:void 0},h=r.typeFunction(l);A===void 0?A=h:A=A.value,r.options.keepDiscriminatorProperty||delete c[r.options.discriminator.property]}s.transformationType===C.CLASS_TO_CLASS&&(A=c.constructor),s.transformationType===C.CLASS_TO_PLAIN&&(c[r.options.discriminator.property]=r.options.discriminator.subTypes.find(function(S){return S.value===c.constructor}).name)}else A=r;var M=s.transform(f,c,A,void 0,c instanceof Map,i+1);a instanceof Set?a.add(M):a.push(M)}else s.transformationType===C.CLASS_TO_CLASS&&(a instanceof Set?a.add(c):a.push(c))}),a}else{if(r===String&&!n)return e==null?e:String(e);if(r===Number&&!n)return e==null?e:Number(e);if(r===Boolean&&!n)return e==null?e:!!e;if((r===Date||e instanceof Date)&&!n)return e instanceof Date?new Date(e.valueOf()):e==null?e:new Date(e);if(st().Buffer&&(r===Buffer||e instanceof Buffer)&&!n)return e==null?e:Buffer.from(e);if(at(e)&&!n)return new Promise(function(c,u){e.then(function(f){return c(s.transform(void 0,f,r,void 0,void 0,i+1))},u)});if(!n&&e!==null&&typeof e=="object"&&typeof e.then=="function")return e;if(typeof e=="object"&&e!==null){!r&&e.constructor!==Object&&(!Array.isArray(e)&&e.constructor===Array||(r=e.constructor)),!r&&t&&(r=t.constructor),this.options.enableCircularCheck&&this.recursionStack.add(e);var o=this.getKeys(r,e,n),p=t||{};!t&&(this.transformationType===C.PLAIN_TO_CLASS||this.transformationType===C.CLASS_TO_CLASS)&&(n?p=new Map:r?p=new r:p={});for(var v=function(c){if(c==="__proto__"||c==="constructor")return"continue";var u=c,f=c,A=c;if(!m.options.ignoreDecorators&&r){if(m.transformationType===C.PLAIN_TO_CLASS){var l=L.findExposeMetadataByCustomName(r,c);l&&(A=l.propertyName,f=l.propertyName)}else if(m.transformationType===C.CLASS_TO_PLAIN||m.transformationType===C.CLASS_TO_CLASS){var l=L.findExposeMetadata(r,c);l&&l.options&&l.options.name&&(f=l.options.name)}}var h=void 0;m.transformationType===C.PLAIN_TO_CLASS?h=e[u]:e instanceof Map?h=e.get(u):e[u]instanceof Function?h=e[u]():h=e[u];var M=void 0,S=h instanceof Map;if(r&&n)M=r;else if(r){var w=L.findTypeMetadata(r,A);if(w){var P={newObject:p,object:e,property:A},N=w.typeFunction?w.typeFunction(P):w.reflectedType;w.options&&w.options.discriminator&&w.options.discriminator.property&&w.options.discriminator.subTypes?e[u]instanceof Array?M=w:(m.transformationType===C.PLAIN_TO_CLASS&&(M=w.options.discriminator.subTypes.find(function(T){if(h&&h instanceof Object&&w.options.discriminator.property in h)return T.name===h[w.options.discriminator.property]}),M===void 0?M=N:M=M.value,w.options.keepDiscriminatorProperty||h&&h instanceof Object&&w.options.discriminator.property in h&&delete h[w.options.discriminator.property]),m.transformationType===C.CLASS_TO_CLASS&&(M=h.constructor),m.transformationType===C.CLASS_TO_PLAIN&&h&&(h[w.options.discriminator.property]=w.options.discriminator.subTypes.find(function(T){return T.value===h.constructor}).name)):M=N,S=S||w.reflectedType===Map}else if(m.options.targetMaps)m.options.targetMaps.filter(function(T){return T.target===r&&!!T.properties[A]}).forEach(function(T){return M=T.properties[A]});else if(m.options.enableImplicitConversion&&m.transformationType===C.PLAIN_TO_CLASS){var $=Reflect.getMetadata("design:type",r.prototype,A);$&&(M=$)}}var V=Array.isArray(e[u])?m.getReflectedType(r,A):void 0,tt=t?t[u]:void 0;if(p.constructor.prototype){var et=Object.getOwnPropertyDescriptor(p.constructor.prototype,f);if((m.transformationType===C.PLAIN_TO_CLASS||m.transformationType===C.CLASS_TO_CLASS)&&(et&&!et.set||p[f]instanceof Function))return"continue"}if(!m.options.enableCircularCheck||!m.isCircular(h)){var G=m.transformationType===C.PLAIN_TO_CLASS?f:c,O=void 0;m.transformationType===C.CLASS_TO_PLAIN?(O=e[G],O=m.applyCustomTransformations(O,r,G,e,m.transformationType),O=e[G]===O?h:O,O=m.transform(tt,O,M,V,S,i+1)):h===void 0&&m.options.exposeDefaultValues?O=p[f]:(O=m.transform(tt,h,M,V,S,i+1),O=m.applyCustomTransformations(O,r,G,e,m.transformationType)),(O!==void 0||m.options.exposeUnsetFields)&&(p instanceof Map?p.set(f,O):p[f]=O)}else if(m.transformationType===C.CLASS_TO_CLASS){var O=h;O=m.applyCustomTransformations(O,r,c,e,m.transformationType),(O!==void 0||m.options.exposeUnsetFields)&&(p instanceof Map?p.set(f,O):p[f]=O)}},m=this,b=0,y=o;b<y.length;b++){var d=y[b];v(d)}return this.options.enableCircularCheck&&this.recursionStack.delete(e),p}else return e}},g.prototype.applyCustomTransformations=function(t,e,r,x,n){var i=this,s=L.findTransformMetadatas(e,r,this.transformationType);return this.options.version!==void 0&&(s=s.filter(function(a){return a.options?i.checkVersion(a.options.since,a.options.until):!0})),this.options.groups&&this.options.groups.length?s=s.filter(function(a){return a.options?i.checkGroups(a.options.groups):!0}):s=s.filter(function(a){return!a.options||!a.options.groups||!a.options.groups.length}),s.forEach(function(a){t=a.transformFn({value:t,key:r,obj:x,type:n,options:i.options})}),t},g.prototype.isCircular=function(t){return this.recursionStack.has(t)},g.prototype.getReflectedType=function(t,e){if(t){var r=L.findTypeMetadata(t,e);return r?r.reflectedType:void 0}},g.prototype.getKeys=function(t,e,r){var x=this,n=L.getStrategy(t);n==="none"&&(n=this.options.strategy||"exposeAll");var i=[];if((n==="exposeAll"||r)&&(e instanceof Map?i=Array.from(e.keys()):i=Object.keys(e)),r)return i;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&t){var s=L.getExposedProperties(t,this.transformationType),a=L.getExcludedProperties(t,this.transformationType);i=ct(ct([],s,!0),a,!0)}if(!this.options.ignoreDecorators&&t){var s=L.getExposedProperties(t,this.transformationType);this.transformationType===C.PLAIN_TO_CLASS&&(s=s.map(function(v){var m=L.findExposeMetadata(t,v);return m&&m.options&&m.options.name?m.options.name:v})),this.options.excludeExtraneousValues?i=s:i=i.concat(s);var o=L.getExcludedProperties(t,this.transformationType);o.length>0&&(i=i.filter(function(v){return!o.includes(v)})),this.options.version!==void 0&&(i=i.filter(function(v){var m=L.findExposeMetadata(t,v);return!m||!m.options?!0:x.checkVersion(m.options.since,m.options.until)})),this.options.groups&&this.options.groups.length?i=i.filter(function(v){var m=L.findExposeMetadata(t,v);return!m||!m.options?!0:x.checkGroups(m.options.groups)}):i=i.filter(function(v){var m=L.findExposeMetadata(t,v);return!m||!m.options||!m.options.groups||!m.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(i=i.filter(function(p){return x.options.excludePrefixes.every(function(v){return p.substr(0,v.length)!==v})})),i=i.filter(function(p,v,m){return m.indexOf(p)===v}),i},g.prototype.checkVersion=function(t,e){var r=!0;return r&&t&&(r=this.options.version>=t),r&&e&&(r=this.options.version<e),r},g.prototype.checkGroups=function(t){return t?this.options.groups.some(function(e){return t.includes(e)}):!0},g}();var k={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0};var _=function(){return _=Object.assign||function(g){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var x in t)Object.prototype.hasOwnProperty.call(t,x)&&(g[x]=t[x])}return g},_.apply(this,arguments)},ft=function(){function g(){}return g.prototype.instanceToPlain=function(t,e){var r=new D(C.CLASS_TO_PLAIN,_(_({},k),e));return r.transform(void 0,t,void 0,void 0,void 0,void 0)},g.prototype.classToPlainFromExist=function(t,e,r){var x=new D(C.CLASS_TO_PLAIN,_(_({},k),r));return x.transform(e,t,void 0,void 0,void 0,void 0)},g.prototype.plainToInstance=function(t,e,r){var x=new D(C.PLAIN_TO_CLASS,_(_({},k),r));return x.transform(void 0,e,t,void 0,void 0,void 0)},g.prototype.plainToClassFromExist=function(t,e,r){var x=new D(C.PLAIN_TO_CLASS,_(_({},k),r));return x.transform(t,e,void 0,void 0,void 0,void 0)},g.prototype.instanceToInstance=function(t,e){var r=new D(C.CLASS_TO_CLASS,_(_({},k),e));return r.transform(void 0,t,void 0,void 0,void 0,void 0)},g.prototype.classToClassFromExist=function(t,e,r){var x=new D(C.CLASS_TO_CLASS,_(_({},k),r));return x.transform(e,t,void 0,void 0,void 0,void 0)},g.prototype.serialize=function(t,e){return JSON.stringify(this.instanceToPlain(t,e))},g.prototype.deserialize=function(t,e,r){var x=JSON.parse(e);return this.plainToInstance(t,x,r)},g.prototype.deserializeArray=function(t,e,r){var x=JSON.parse(e);return this.plainToInstance(t,x,r)},g}();var pt=new ft;function Q(g,t){return pt.instanceToPlain(g,t)}function ut(g,t,e){return pt.plainToInstance(g,t,e)}var dt=F("../../src/classes/currency"),ht=F("../../src/classes/attribute"),gt=F("../../src/E/e");function lt(g){var t="0123456789abcdef";function e(A){var l,h="";for(l=0;l<=3;l++)h+=t.charAt(A>>8*l+4&15)+t.charAt(A>>8*l&15);return h}function r(A,l){var h=(65535&A)+(65535&l);return(A>>16)+(l>>16)+(h>>16)<<16|65535&h}function x(A,l,h,M,S,w){var P,N;return r((P=r(r(l,A),r(M,w)),P<<(N=S)|P>>>32-N),h)}function n(A,l,h,M,S,w,P){return x(l&h|~l&M,A,l,S,w,P)}function i(A,l,h,M,S,w,P){return x(l&M|h&~M,A,l,S,w,P)}function s(A,l,h,M,S,w,P){return x(l^h^M,A,l,S,w,P)}function a(A,l,h,M,S,w,P){return x(h^(l|~M),A,l,S,w,P)}var o,p,v,m,b,y=function(l){var h,M=(l.length+8>>6)+1,S=Array(16*M);for(h=0;h<16*M;h++)S[h]=0;for(h=0;h<l.length;h++)S[h>>2]|=l.charCodeAt(h)<<h%4*8;return S[h>>2]|=128<<h%4*8,S[16*M-2]=8*l.length,S}(""+g),d=1732584193,c=-271733879,u=-1732584194,f=271733878;for(o=0;o<y.length;o+=16)p=d,v=c,m=u,b=f,d=n(d,c,u,f,y[o+0],7,-680876936),f=n(f,d,c,u,y[o+1],12,-389564586),u=n(u,f,d,c,y[o+2],17,606105819),c=n(c,u,f,d,y[o+3],22,-1044525330),d=n(d,c,u,f,y[o+4],7,-176418897),f=n(f,d,c,u,y[o+5],12,1200080426),u=n(u,f,d,c,y[o+6],17,-1473231341),c=n(c,u,f,d,y[o+7],22,-45705983),d=n(d,c,u,f,y[o+8],7,1770035416),f=n(f,d,c,u,y[o+9],12,-1958414417),u=n(u,f,d,c,y[o+10],17,-42063),c=n(c,u,f,d,y[o+11],22,-1990404162),d=n(d,c,u,f,y[o+12],7,1804603682),f=n(f,d,c,u,y[o+13],12,-40341101),u=n(u,f,d,c,y[o+14],17,-1502002290),c=n(c,u,f,d,y[o+15],22,1236535329),d=i(d,c,u,f,y[o+1],5,-165796510),f=i(f,d,c,u,y[o+6],9,-1069501632),u=i(u,f,d,c,y[o+11],14,643717713),c=i(c,u,f,d,y[o+0],20,-373897302),d=i(d,c,u,f,y[o+5],5,-701558691),f=i(f,d,c,u,y[o+10],9,38016083),u=i(u,f,d,c,y[o+15],14,-660478335),c=i(c,u,f,d,y[o+4],20,-405537848),d=i(d,c,u,f,y[o+9],5,568446438),f=i(f,d,c,u,y[o+14],9,-1019803690),u=i(u,f,d,c,y[o+3],14,-187363961),c=i(c,u,f,d,y[o+8],20,1163531501),d=i(d,c,u,f,y[o+13],5,-1444681467),f=i(f,d,c,u,y[o+2],9,-51403784),u=i(u,f,d,c,y[o+7],14,1735328473),c=i(c,u,f,d,y[o+12],20,-1926607734),d=s(d,c,u,f,y[o+5],4,-378558),f=s(f,d,c,u,y[o+8],11,-2022574463),u=s(u,f,d,c,y[o+11],16,1839030562),c=s(c,u,f,d,y[o+14],23,-35309556),d=s(d,c,u,f,y[o+1],4,-1530992060),f=s(f,d,c,u,y[o+4],11,1272893353),u=s(u,f,d,c,y[o+7],16,-155497632),c=s(c,u,f,d,y[o+10],23,-1094730640),d=s(d,c,u,f,y[o+13],4,681279174),f=s(f,d,c,u,y[o+0],11,-358537222),u=s(u,f,d,c,y[o+3],16,-722521979),c=s(c,u,f,d,y[o+6],23,76029189),d=s(d,c,u,f,y[o+9],4,-640364487),f=s(f,d,c,u,y[o+12],11,-421815835),u=s(u,f,d,c,y[o+15],16,530742520),c=s(c,u,f,d,y[o+2],23,-995338651),d=a(d,c,u,f,y[o+0],6,-198630844),f=a(f,d,c,u,y[o+7],10,1126891415),u=a(u,f,d,c,y[o+14],15,-1416354905),c=a(c,u,f,d,y[o+5],21,-57434055),d=a(d,c,u,f,y[o+12],6,1700485571),f=a(f,d,c,u,y[o+3],10,-1894986606),u=a(u,f,d,c,y[o+10],15,-1051523),c=a(c,u,f,d,y[o+1],21,-2054922799),d=a(d,c,u,f,y[o+8],6,1873313359),f=a(f,d,c,u,y[o+15],10,-30611744),u=a(u,f,d,c,y[o+6],15,-1560198380),c=a(c,u,f,d,y[o+13],21,1309151649),d=a(d,c,u,f,y[o+4],6,-145523070),f=a(f,d,c,u,y[o+11],10,-1120210379),u=a(u,f,d,c,y[o+2],15,718787259),c=a(c,u,f,d,y[o+9],21,-343485551),d=r(d,p),c=r(c,v),u=r(u,m),f=r(f,b);return e(d)+e(c)+e(u)+e(f)}var U=class{constructor(t){this.data={};this.static={};this.eventsOnLoad=[];this.gameRef=typeof t=="function"?t():t}addEventOnLoad(t){this.eventsOnLoad.push(t)}setData(t,e){return typeof this.data[t]>"u"&&this.normalData&&console.warn("After initializing data, you should not add new properties to data."),this.data[t]=e,this.data[t]}getData(t){return this.data[t]}setStatic(t,e){return typeof this.static[t]>"u"&&this.normalData&&console.warn("After initializing data, you should not add new properties to staticData."),this.static[t]=e,this.static[t]}getStatic(t){return this.static[t]}init(){this.normalData=this.data}compileDataRaw(t=this.data){let e=Q(t);return[lt(JSON.stringify(e)),e]}compileData(t=this.data){let e=JSON.stringify(this.compileDataRaw(t));return B.compressToBase64?(0,B.compressToBase64)(e):btoa(e)}decompileData(t=localStorage.getItem(`${this.gameRef.config.name.id}-data`)){return t?JSON.parse(B.decompressFromBase64?(0,B.decompressFromBase64)(t):atob(t)):null}validateData(t){let[e,r]=t,x=lt(JSON.stringify(r));return e===x}resetData(t=!1){if(!this.normalData)throw new Error("dataManager.resetData(): You must call init() before writing to data.");this.data=this.normalData,this.saveData(),t&&window.location.reload()}saveData(){localStorage.setItem(`${this.gameRef.config.name.id}-data`,this.compileData())}exportData(){let t=this.compileData();if(prompt("Download save data?:",t)!=null){let e=new Blob([t],{type:"text/plain"}),r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=`${this.gameRef.config.name.id}-data.txt`,r.textContent=`Download ${this.gameRef.config.name.id}-data.txt file`,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}parseData(t=this.decompileData()){if(!this.normalData)throw new Error("dataManager.loadData(): You must call init() before writing to data.");if(!t)return null;let[e,r]=t;function x(v){return typeof v=="object"&&v.constructor===Object}function n(v,m){let b=m;for(let y in v)Object.prototype.hasOwnProperty.call(v,y)&&!Object.prototype.hasOwnProperty.call(m,y)?b[y]=v[y]:x(v[y])&&x(m[y])&&(b[y]=n(v[y],m[y]));return b}let i=n(this.normalData,r),s=function(v){let m=[];for(let b of v)m.push({class:b.class,properties:Object.getOwnPropertyNames(Q(new b.class))});return m}([{class:ht.attribute},{class:dt.currency},{class:gt.Decimal}]);function a(v,m){return v.length===m.length&&v.every(b=>m.includes(b))}function o(v,m){let b=ut(v.class,m);if(!b)throw new Error(`Failed to convert ${v.name} to class instance.`);return b}function p(v){let m=v;for(let b in v)v[b]instanceof Object&&v[b].constructor===Object&&(()=>{for(let y of s)if(a(Object.getOwnPropertyNames(v[b]),y.properties))return m[b]=o(y,v[b]),!1;return!0})()&&(m[b]=p(v[b]));return m}return i=p(i),i}loadData(t=this.decompileData()){if(!t)return null;let e=this.parseData(t);if(!e)return null;let r=this.validateData(t);this.data=e;for(let x of this.eventsOnLoad)x();return r}};var z=class{get data(){return this.dataPointer()}get static(){return this.staticPointer()}constructor(t,e,r){this.dataPointer=typeof t=="function"?t:()=>t,this.staticPointer=typeof e=="function"?e:()=>e,this.game=r,this.game?.dataManager.addEventOnLoad(()=>{this.static.onLoadData()})}get value(){return this.data.value}};var X=class{constructor(t,e,r){this.data=typeof t=="function"?t():t,this.static=typeof e=="function"?e():e,this.game=r}get value(){return this.static.value}set value(t){this.data.value=t}};var K=class{constructor(t,e){this.currenciesToReset=Array.isArray(t)?t:[t],this.extender=e}reset(){this.onReset&&this.onReset(),this.currenciesToReset.forEach(t=>{t.static.reset()}),this.extender&&this.extender.reset()}};var W={mode:"production",name:{title:"",id:""},settings:{framerate:30},initIntervalBasedManagers:!0},J=class g{static{this.configManager=new I(W)}constructor(t){this.config=g.configManager.parse(t),this.dataManager=new U(this),this.keyManager=new E({autoAddInterval:this.config.initIntervalBasedManagers,fps:this.config.settings.framerate}),this.eventManager=new R({autoAddInterval:this.config.initIntervalBasedManagers,fps:this.config.settings.framerate}),this.tickers=[]}init(){this.dataManager.init()}changeFps(t){this.keyManager.changeFps(t),this.eventManager.changeFps(t)}addCurrency(t){return this.dataManager.setData(t,{currency:new j.currency}),this.dataManager.setStatic(t,{currency:new j.currencyStatic(()=>this.dataManager.getData(t).currency)}),new z(()=>this.dataManager.getData(t).currency,()=>this.dataManager.getStatic(t).currency,this)}addCurrencyGroup(t,e){this.dataManager.setData(t,{}),this.dataManager.setStatic(t,{attributes:{}}),e.forEach(r=>{this.dataManager.getData(t)[r]=new j.currency,this.dataManager.getStatic(t)[r]=new j.currencyStatic(this.dataManager.getData(t)[r])})}addAttribute(t,e=!0,r=0){return this.dataManager.setData(t,new Y.attribute(r)),this.dataManager.setStatic(t,new Y.attributeStatic(this.dataManager.getData(t),e,r)),new X(this.dataManager.getData(t),this.dataManager.getStatic(t),this)}addReset(t,e){return new K(t,e)}};var Pt=function(){class g{constructor(n){this.article=n}update(){}AABBs(n){let i=this.AABB;return!(n[2]<i[0]||i[2]<n[0]||n[3]<i[1]||i[3]<n[1])}collidesPoint(n){let i=this.vertices,s=i.length,a=!1;for(let o=0,p=s-2;o<s;o+=2)i[o+1]>n.y!=i[p+1]>n.y&&n.x<(i[p]-i[o])*(n.y-i[o+1])/(i[p+1]-i[o+1])+i[o]&&(a=!a),p=o;return a}collidesCircle(){}collidesRectangle(){}collidesPolygon(n,i){let s=this.vertices,a=i?n:n.vertices,o=[s,a],p,v,m,b,y;for(let d=0;d<o.length;d++){let c=o[d];for(let u=0;u<c.length;u+=2){let f=(u+2)%c.length,A={x:c[f+1]-c[u+1],y:c[u]-c[f]};p=v=null;for(let l=0;l<s.length;l+=2)m=A.x*s[l]+A.y*s[l+1],(p===null||m<p)&&(p=m),(v===null||m>v)&&(v=m);b=y=null;for(let l=0;l<a.length;l+=2)m=A.x*a[l]+A.y*a[l+1],(b===null||m<b)&&(b=m),(y===null||m>y)&&(y=m);if(v<b||y<p)return!1}}return!0}collidesLine(n,i){let s=this.vertices,a=s.length;if(this.collidesPoint(n))return!0;for(let o=0;o<a;o+=2){let p=(o+2)%a;if(g.lineLine(n,i,{x:s[o],y:s[o+1]},{x:s[p],y:s[p+1]}))return!0}return!1}collides(n){return this["collides"+n.SHAPE](n)}static lineLine(n,i,s,a){let o=n.x,p=n.y,v=i.x,m=i.y,b=s.x,y=s.y,d=a.x,c=a.y,u=v-o,f=m-p,A=d-b,l=c-y,h=(-f*(o-b)+u*(p-y))/(-A*f+u*l),M=(A*(p-y)-l*(o-b))/(-A*f+u*l);return h>=0&&h<=1&&M>=0&&M<=1}}class t extends g{constructor(n,i){super(n),this.SHAPE="Rectangle",i=i||{},this._vertices=[],this.AABB=[0,0,0,0],this.set(i)}set(n){this.center=n.center||this.article,this.rotation=n.rotation?n.rotation:n.center?n.center:this.article,typeof n.square<"u"?this._width=this._height=n.square:(this._width=n.width||this.article.width,this._height=n.height||this.article.height),this.noRotate=n.noRotate,this.hw=this._width/2,this.hh=this._height/2,this.update()}get width(){return this._width}set width(n){this._width=n,this.hw=n/2}get height(){return this._height}set height(n){this._height=n,this.hh=n/2}update(){let n=this.AABB,i=this.center;if(this.noRotate){let s=this.hw,a=this.hh;n[0]=i.x-s,n[1]=i.y-a,n[2]=i.x+s,n[3]=i.y+a}else{let s=Math.abs(Math.sin(this.rotation.rotation)/2),a=Math.abs(Math.cos(this.rotation.rotation)/2),o=this._width,p=this._height,v=p*s+o*a,m=p*a+o*s;n[0]=i.x-v,n[1]=i.y-m,n[2]=i.x+v,n[3]=i.y+m}this.verticesDirty=!0}updateVertices(){let n=this._vertices,i=this.center,s=this.hw,a=this.hh;if(this.noRotate){let o=this.AABB;n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[1],n[4]=o[2],n[5]=o[3],n[6]=o[0],n[7]=o[3]}else{let o=this.rotation.rotation,p=Math.sin(o),v=Math.cos(o);n[0]=i.x-s*v+a*p,n[1]=i.y-s*p-a*v,n[2]=i.x+s*v+a*p,n[3]=i.y+s*p-a*v,n[4]=i.x+s*v-a*p,n[5]=i.y+s*p+a*v,n[6]=i.x-s*v-a*p,n[7]=i.y-s*p+a*v}this.verticesDirty=!1}get vertices(){return this.verticesDirty&&this.updateVertices(),this._vertices}collidesRectangle(n){return this.noRotate&&n.noRotate?this.AABBs(n.AABB):this.collidesPolygon(n)}collidesCircle(n){return n.collidesRectangle(this)}static fromRectangle(n,i,s,a){let o={x:n+s/2,y:i+a/2};return new t(o,{width:s,height:a,noRotate:!0})}}class e extends g{constructor(n,i,s){super(n),this.SHAPE="Polygon",s=s||{},this.points=i,this.vertices=[],this.AABB=[],this.set(s)}set(n){n.point&&(this.points=n.points),this.center=n.center||this.article,this.rotation=n.rotation?n.rotation:n.center?n.center:this.article,this.update()}update(){let n=this.rotation.rotation,i=Math.sin(n),s=Math.cos(n),a=1/0,o=0,p=1/0,v=0,m=this.points,b=m.length,y=this.vertices,d=this.center;for(let c=0;c<b;c+=2){let u=m[c],f=m[c+1],A=y[c]=d.x+u*s-f*i,l=y[c+1]=d.y+u*i+f*s;a=A<a?A:a,o=A>o?A:o,p=l<p?l:p,v=l>v?l:v}this.AABB[0]=a,this.AABB[1]=p,this.AABB[2]=o,this.AABB[3]=v,this.width=o-a,this.height=v-p,this.hw=(o-a)/2,this.hh=(v-p)/2}collidesRectangle(n){return this.collidesPolygon(n)}collidesCircle(n){return n.collidesPolygon(this)}}class r extends g{constructor(n,i){super(n),this.SHAPE="Circle",this.AABB=[],i=i||{},this.set(i)}set(n){this.radius=n.radius||this.article.width/2,this.radiusSquared=this.radius*this.radius,this.center=n.positionObject?n.positionObject:this.article,this.update()}update(){let n=this.AABB,i=this.radius,s=this.center;n[0]=s.x-i,n[1]=s.y-i,n[2]=s.x+i,n[3]=s.y+i}collidesCircle(n){let i=this.center,s=n.center,a=s.x-i.x,o=s.y-i.y,p=n.radius+this.radius;return a*a+o*o<=p*p}collidesPoint(n){let i=n.x-this.center.x,s=n.y-this.center.y;return i*i+s*s<=this.radiusSquared}collidesLine(n,i){function s(c,u){return c[0]*u[0]+c[1]*u[1]}let a=this.center,o=[a.x-n.x,a.y-n.y],p=[i.x-n.x,i.y-n.y],v=s(p,p),b=s(o,p)/v;b=b<0?0:b,b=b>1?1:b;let y=[p[0]*b+n.x-a.x,p[1]*b+n.y-a.y];return s(y,y)<=this.radiusSquared}collidesRectangle(n){if(n.noRotate){let i=n.AABB,s=(i[2]-i[0])/2,a=(i[3]-i[1])/2,o=this.center,p=this.radius,v=Math.abs(o.x-i[0]),m=Math.abs(o.y-i[1]);if(v>s+p||m>a+p)return!1;if(v<=s||m<=a)return!0;let b=v-s,y=m-a;return b*b+y*y<=this.radiusSquared}else{let i=this.center;if(n.collidesPoint(i))return!0;let s=n.vertices;return this.collidesLine({x:s[0],y:s[1]},{x:s[2],y:s[3]})||this.collidesLine({x:s[2],y:s[3]},{x:s[4],y:s[5]})||this.collidesLine({x:s[4],y:s[5]},{x:s[6],y:s[7]})||this.collidesLine({x:s[6],y:s[7]},{x:s[0],y:s[1]})}}collidesPolygon(n){let i=this.center;if(n.collidesPoint(i))return!0;let s=n.vertices,a=s.length;for(let o=0;o<a-2;o+=2)if(this.collidesLine({x:s[o],y:s[o+1]},{x:s[o+2],y:s[o+3]}))return!0;return this.collidesLine({x:s[0],y:s[1]},{x:s[a-2],y:s[a-1]})}}return{Shape:g,Rectangle:t,Polygon:e,Circle:r}}(),yt=Pt;var H=class{constructor(t,e,r="Rectangle"){this.gameRef=t,this.sprite=this.gameRef.PIXI.app.stage.addChild(e),this.x=this.sprite.x,this.y=this.sprite.y,this.collisionShape=r,this.intersects=new yt[this.collisionShape](this.sprite),this.gameRef.PIXI.app.ticker.add(this.tickerFn,this)}tickerFn(){this.sprite.x=this.x-this.gameRef.PIXI.camera.x,this.sprite.y=this.y-this.gameRef.PIXI.camera.y}collides(t){return this.intersects[`collides${t.collisionShape}`](t.intersects)}remove(){this.x=this.y=1/0,this.sprite.parent.removeChild(this.sprite)}};var It={...W,initIntervalBasedManagers:!1,pixi:{app:null}},mt=class g extends J{static{this.configManager=new I(It)}constructor(t){if(super(t),this.config=g.configManager.parse(t),!this.config.pixi.app)throw new Error(`No PIXI app was provided in config: ${JSON.stringify(this.config)}`);let e=this.config.pixi.app;this.PIXI={app:e,camera:{x:0,y:0}},this.keyManager=new E({autoAddInterval:!0,pixiApp:this.PIXI.app}),this.eventManager=new R({autoAddInterval:!0,pixiApp:this.PIXI.app})}addSprite(t,e="Rectangle"){return new H(this,t,e)}};it();})();
